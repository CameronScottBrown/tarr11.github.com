<html>
  <head>
    <title>Codegame</title>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/phaser/2.4.7/custom/phaser-arcade-physics.min.js"></script>
    <style>
      CANVAS {width: 500px; height: 100px }
    </style>
  
  </head>
  <body>
    <div id="game"></div>
    <script type="text/javascript">
var PhaserGame = function () { 

};

PhaserGame.prototype = { 
    preload: function() { 
        this.load.crossOrigin = "Anonymous"; 
        this.load.spritesheet('nerd_ss', "nerdyguy.png", 32, 32); 
    },
    create: function () { 
        this.physics.startSystem(Phaser.Physics.Arcade); 
        this.stage.backgroundColor = "#FFFFFF";
        this.cursors = game.input.keyboard.createCursorKeys(); 
        this.sprite = this.add.sprite(0, 0, 'nerd_ss'); 
        game.physics.enable(this.sprite, Phaser.Physics.ARCADE);
        this.sprite.animations.add('forward', [0, 1, 2], 5, true);
        this.sprite.animations.add('left', [3, 4, 5], 5, true);
        this.sprite.animations.add('right', [6, 7, 8], 5, true); 
        this.sprite.animations.add('back', [9, 10, 11], 5, true);
        //this.sprite.animations.add('left', [4, 5, 6, 7], 5, true); 
        this.sprite.body.velocity.x = 100;
        this.sprite.animations.play('right'); 
        this.camera.follow(this.sprite);
    },
    update: function (){ 
      if (this.sprite.x <= 0)
      {
        this.sprite.body.velocity.x = 100;
        this.sprite.animations.play('right'); 
      }
      else if(this.sprite.x >= 300)
      {
        this.sprite.body.velocity.x = -100;
        this.sprite.animations.play('left'); 
      }

    }
};

var game = new Phaser.Game(500,500,Phaser.AUTO, 'game'); 
game.state.add('Game', PhaserGame, true);
console.log("loaded");
    </script>
  </body>
</html>
